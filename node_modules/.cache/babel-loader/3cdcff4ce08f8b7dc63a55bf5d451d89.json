{"ast":null,"code":"var _jsxFileName = \"/home/ciro/Escritorio/Ciro/videogames-main/client-videogames/src/components/Login.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { Fragment, useEffect, useState } from \"react\";\nimport Nav from './Nav';\nimport { useHistory } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { auth } from '../actions/users';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Login = () => {\n  _s();\n\n  const userAuth = useSelector(state => state.userReducer.userAuth);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const [isPre, setIsPre] = useState(false);\n\n  const pre = /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"preload\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 14,\n    columnNumber: 21\n  }, this);\n\n  const [input, setinput] = useState({\n    username: \"\",\n    password: \"\"\n  });\n\n  function handleChange(e) {\n    // console.log(input)\n    setinput({ ...input,\n      [e.target.name]: e.target.value\n    });\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    dispatch(auth(input));\n    setIsPre(true);\n    setTimeout(() => {\n      const isUser = localStorage.getItem('payload');\n\n      if (isUser === 'user') {\n        history.push('/dashboard');\n      } else {\n        history.push('/register');\n      }\n    }, 1000);\n  }\n\n  useEffect(() => {\n    console.log(\"HOLA\");\n  }, [dispatch, userAuth]);\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Nav, {\n      current: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this), !isPre ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"contForm\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: e => handleSubmit(e),\n        children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"containerInput\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: handleChange,\n            type: \"email\",\n            name: \"username\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"containerInput\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: handleChange,\n            type: \"password\",\n            name: \"password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Sing In\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 29\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 36\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 25\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 17\n    }, this) : pre]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Login, \"gdU3W+sh5rAUQ+ZwZwyLeaHlaIc=\", false, function () {\n  return [useSelector, useDispatch, useHistory];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","Fragment","useEffect","useState","Nav","useHistory","useDispatch","useSelector","auth","Login","userAuth","state","userReducer","dispatch","history","isPre","setIsPre","pre","input","setinput","username","password","handleChange","e","target","name","value","handleSubmit","preventDefault","setTimeout","isUser","localStorage","getItem","push","console","log"],"sources":["/home/ciro/Escritorio/Ciro/videogames-main/client-videogames/src/components/Login.jsx"],"sourcesContent":["import React, { Fragment, useEffect, useState } from \"react\";\nimport Nav from './Nav';\nimport {useHistory} from 'react-router-dom';\nimport {useDispatch, useSelector} from 'react-redux';\nimport { auth } from '../actions/users';\n\nconst Login = () => {\n\n        const userAuth = useSelector((state) => state.userReducer.userAuth);\n        const dispatch = useDispatch();\n        const history = useHistory();\n\n        const [isPre, setIsPre] = useState(false);\n        const pre = <div className='preload'></div>;\n\n        const [input, setinput] = useState({username: \"\", password: \"\"})\n        function handleChange(e){\n            // console.log(input)\n            setinput({\n                ...input,\n                [e.target.name]: e.target.value\n            })\n        }\n\n\n        function handleSubmit (e) {\n            e.preventDefault();\n            dispatch( auth( input ) )\n            \n            setIsPre(true)\n            setTimeout(()=>{\n                \n                const isUser = localStorage.getItem('payload');\n                if(isUser === 'user') {\n                    history.push('/dashboard');\n                } else {\n                    history.push('/register')\n                }\n            }, 1000)\n        }\n        useEffect(()=>{\n            console.log(\"HOLA\")\n        }, [dispatch, userAuth])\n    return(\n        <Fragment>\n            <Nav current=\"Login\"/>\n            {\n                ! isPre ?\n                (\n\n                <div className='contForm'>\n                        \n\n                        <form \n                            onSubmit={(e) => handleSubmit(e)}\n                        >\n                            <br />\n                            <div className='containerInput'>\n\n                                <p>Email</p>\n                                <input \n                                    onChange={handleChange}\n                                    type=\"email\"\n                                    name= \"username\"\n                                />\n                            </div>\n\n                            <div className='containerInput'>\n\n                                <p>Password</p>\n                                <input \n                                    onChange={handleChange}\n                                    type='password'\n                                    name= \"password\"\n                                />\n                            </div>\n                            <br />\n                            <button type='submit'>Sing In</button>\n                            <br /> <br />\n\n                        </form>\n                </div>\n                )\n                :\n                (\n                    pre\n                )\n            }\n        </Fragment>\n    )\n}\n\nexport default Login;"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,QAArC,QAAqD,OAArD;AACA,OAAOC,GAAP,MAAgB,OAAhB;AACA,SAAQC,UAAR,QAAyB,kBAAzB;AACA,SAAQC,WAAR,EAAqBC,WAArB,QAAuC,aAAvC;AACA,SAASC,IAAT,QAAqB,kBAArB;;;AAEA,MAAMC,KAAK,GAAG,MAAM;EAAA;;EAEZ,MAAMC,QAAQ,GAAGH,WAAW,CAAEI,KAAD,IAAWA,KAAK,CAACC,WAAN,CAAkBF,QAA9B,CAA5B;EACA,MAAMG,QAAQ,GAAGP,WAAW,EAA5B;EACA,MAAMQ,OAAO,GAAGT,UAAU,EAA1B;EAEA,MAAM,CAACU,KAAD,EAAQC,QAAR,IAAoBb,QAAQ,CAAC,KAAD,CAAlC;;EACA,MAAMc,GAAG,gBAAG;IAAK,SAAS,EAAC;EAAf;IAAA;IAAA;IAAA;EAAA,QAAZ;;EAEA,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBhB,QAAQ,CAAC;IAACiB,QAAQ,EAAE,EAAX;IAAeC,QAAQ,EAAE;EAAzB,CAAD,CAAlC;;EACA,SAASC,YAAT,CAAsBC,CAAtB,EAAwB;IACpB;IACAJ,QAAQ,CAAC,EACL,GAAGD,KADE;MAEL,CAACK,CAAC,CAACC,MAAF,CAASC,IAAV,GAAiBF,CAAC,CAACC,MAAF,CAASE;IAFrB,CAAD,CAAR;EAIH;;EAGD,SAASC,YAAT,CAAuBJ,CAAvB,EAA0B;IACtBA,CAAC,CAACK,cAAF;IACAf,QAAQ,CAAEL,IAAI,CAAEU,KAAF,CAAN,CAAR;IAEAF,QAAQ,CAAC,IAAD,CAAR;IACAa,UAAU,CAAC,MAAI;MAEX,MAAMC,MAAM,GAAGC,YAAY,CAACC,OAAb,CAAqB,SAArB,CAAf;;MACA,IAAGF,MAAM,KAAK,MAAd,EAAsB;QAClBhB,OAAO,CAACmB,IAAR,CAAa,YAAb;MACH,CAFD,MAEO;QACHnB,OAAO,CAACmB,IAAR,CAAa,WAAb;MACH;IACJ,CARS,EAQP,IARO,CAAV;EASH;;EACD/B,SAAS,CAAC,MAAI;IACVgC,OAAO,CAACC,GAAR,CAAY,MAAZ;EACH,CAFQ,EAEN,CAACtB,QAAD,EAAWH,QAAX,CAFM,CAAT;EAGJ,oBACI,QAAC,QAAD;IAAA,wBACI,QAAC,GAAD;MAAK,OAAO,EAAC;IAAb;MAAA;MAAA;MAAA;IAAA,QADJ,EAGQ,CAAEK,KAAF,gBAGA;MAAK,SAAS,EAAC,UAAf;MAAA,uBAGQ;QACI,QAAQ,EAAGQ,CAAD,IAAOI,YAAY,CAACJ,CAAD,CADjC;QAAA,wBAGI;UAAA;UAAA;UAAA;QAAA,QAHJ,eAII;UAAK,SAAS,EAAC,gBAAf;UAAA,wBAEI;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QAFJ,eAGI;YACI,QAAQ,EAAED,YADd;YAEI,IAAI,EAAC,OAFT;YAGI,IAAI,EAAE;UAHV;YAAA;YAAA;YAAA;UAAA,QAHJ;QAAA;UAAA;UAAA;UAAA;QAAA,QAJJ,eAcI;UAAK,SAAS,EAAC,gBAAf;UAAA,wBAEI;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QAFJ,eAGI;YACI,QAAQ,EAAEA,YADd;YAEI,IAAI,EAAC,UAFT;YAGI,IAAI,EAAE;UAHV;YAAA;YAAA;YAAA;UAAA,QAHJ;QAAA;UAAA;UAAA;UAAA;QAAA,QAdJ,eAuBI;UAAA;UAAA;UAAA;QAAA,QAvBJ,eAwBI;UAAQ,IAAI,EAAC,QAAb;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAxBJ,eAyBI;UAAA;UAAA;UAAA;QAAA,QAzBJ,oBAyBW;UAAA;UAAA;UAAA;QAAA,QAzBX;MAAA;QAAA;QAAA;QAAA;MAAA;IAHR;MAAA;MAAA;MAAA;IAAA,QAHA,GAsCIL,GAzCZ;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;AA+CH,CApFD;;GAAMR,K;UAEmBF,W,EACAD,W,EACDD,U;;;KAJlBI,K;AAsFN,eAAeA,KAAf"},"metadata":{},"sourceType":"module"}