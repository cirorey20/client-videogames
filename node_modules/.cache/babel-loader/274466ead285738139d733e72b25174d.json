{"ast":null,"code":"function validationForm(input, allsGame) {\n  let errors = {};\n  let validationRating = new RegExp(/^[1-9][\\.]\\d{2}|\\d{2}[\\.,]\\d{2}/); //comprueba si el nombre existe en la db\n\n  let isNameDb = allsGame.find(el => el.name === input.name); //fecha actual\n\n  let date = new Date().toISOString().split('T')[0];\n\n  if (isNameDb) {\n    // console.log(allsGame);\n    errors.name = `El nombre \"${input.name}\" Ya existe en la db`;\n  } else if (!input.name) {\n    errors.name = \"Name is required\";\n  } else if (!input.description) {\n    errors.name = \"Description is required\";\n  } else if (!input.released || input.released > date) {\n    errors.name = \"Publication date required\";\n  } else if (!validationRating.test(input.rating) || input.rating > 10 || input.rating < 0) {\n    errors.name = \"A value is required\";\n  }\n\n  return errors;\n}\n\nmodule.exports = {\n  validationForm\n};","map":{"version":3,"names":["validationForm","input","allsGame","errors","validationRating","RegExp","isNameDb","find","el","name","date","Date","toISOString","split","description","released","test","rating","module","exports"],"sources":["/home/ciro/Escritorio/Ciro/videogames-main/client-videogames/src/utils/index.js"],"sourcesContent":["function validationForm(input, allsGame) {\n    let errors = {};\n    let validationRating = new RegExp(/^[1-9][\\.]\\d{2}|\\d{2}[\\.,]\\d{2}/);\n    \n    //comprueba si el nombre existe en la db\n    let isNameDb = allsGame.find(el=> el.name === input.name);\n\n    //fecha actual\n    let date = new Date().toISOString().split('T')[0];\n    if ( isNameDb ) {\n        // console.log(allsGame);\n        errors.name = `El nombre \"${input.name}\" Ya existe en la db`;\n    }\n\n    else if (!input.name) {\n        errors.name = \"Name is required\"\n    }\n\n    else if (!input.description) {\n        errors.name = \"Description is required\"\n    }\n\n    else if (!input.released || input.released > date) {\n        errors.name = \"Publication date required\"\n    }\n\n    else if ( !validationRating.test(input.rating) || input.rating > 10 || input.rating < 0 ) {\n        errors.name = \"A value is required\"\n    }\n\n    return errors\n}\n\nmodule.exports = {\n    validationForm,\n}"],"mappings":"AAAA,SAASA,cAAT,CAAwBC,KAAxB,EAA+BC,QAA/B,EAAyC;EACrC,IAAIC,MAAM,GAAG,EAAb;EACA,IAAIC,gBAAgB,GAAG,IAAIC,MAAJ,CAAW,iCAAX,CAAvB,CAFqC,CAIrC;;EACA,IAAIC,QAAQ,GAAGJ,QAAQ,CAACK,IAAT,CAAcC,EAAE,IAAGA,EAAE,CAACC,IAAH,KAAYR,KAAK,CAACQ,IAArC,CAAf,CALqC,CAOrC;;EACA,IAAIC,IAAI,GAAG,IAAIC,IAAJ,GAAWC,WAAX,GAAyBC,KAAzB,CAA+B,GAA/B,EAAoC,CAApC,CAAX;;EACA,IAAKP,QAAL,EAAgB;IACZ;IACAH,MAAM,CAACM,IAAP,GAAe,cAAaR,KAAK,CAACQ,IAAK,sBAAvC;EACH,CAHD,MAKK,IAAI,CAACR,KAAK,CAACQ,IAAX,EAAiB;IAClBN,MAAM,CAACM,IAAP,GAAc,kBAAd;EACH,CAFI,MAIA,IAAI,CAACR,KAAK,CAACa,WAAX,EAAwB;IACzBX,MAAM,CAACM,IAAP,GAAc,yBAAd;EACH,CAFI,MAIA,IAAI,CAACR,KAAK,CAACc,QAAP,IAAmBd,KAAK,CAACc,QAAN,GAAiBL,IAAxC,EAA8C;IAC/CP,MAAM,CAACM,IAAP,GAAc,2BAAd;EACH,CAFI,MAIA,IAAK,CAACL,gBAAgB,CAACY,IAAjB,CAAsBf,KAAK,CAACgB,MAA5B,CAAD,IAAwChB,KAAK,CAACgB,MAAN,GAAe,EAAvD,IAA6DhB,KAAK,CAACgB,MAAN,GAAe,CAAjF,EAAqF;IACtFd,MAAM,CAACM,IAAP,GAAc,qBAAd;EACH;;EAED,OAAON,MAAP;AACH;;AAEDe,MAAM,CAACC,OAAP,GAAiB;EACbnB;AADa,CAAjB"},"metadata":{},"sourceType":"module"}