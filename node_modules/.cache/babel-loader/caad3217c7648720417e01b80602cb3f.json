{"ast":null,"code":"var _jsxFileName = \"/home/ciro/Escritorio/Ciro/videogames-main/client-videogames/src/components/Dashboard.jsx\",\n    _s = $RefreshSig$();\n\nimport { Fragment, useEffect } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport { getUser, destroyGame, clearData } from '../actions/users';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Nav from './Nav';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Dashboard = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const dataUser = useSelector(state => state.userReducer.user);\n  const gamesUser = useSelector(state => state.userReducer.gamesUser);\n\n  function deletedGame(id) {\n    const userId = localStorage.getItem('id');\n    const tokenUser = localStorage.getItem('token');\n    dispatch(destroyGame(id, tokenUser));\n    setTimeout(() => {\n      dispatch(clearData());\n    }, 500);\n    setTimeout(() => {\n      dispatch(getUser(userId));\n    }, 1000);\n  }\n\n  function editGame(id) {\n    localStorage.setItem('idGame', id);\n    history.push('/edit');\n  }\n\n  useEffect(() => {\n    const isUser = localStorage.getItem('payload');\n    const userId = localStorage.getItem('id');\n\n    if (isUser !== 'user') {\n      return history.push('/login');\n    }\n\n    dispatch(getUser(userId));\n    setTimeout(() => {}, 2000);\n  }, [dispatch, history]);\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Nav, {\n      current: \"Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: [\"Hello \", dataUser.name || \"user\", \", games you have are: \", gamesUser.length]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/created\",\n      children: /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Created\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"contentUserGame\",\n      children: gamesUser === null || gamesUser === void 0 ? void 0 : gamesUser.map((el, i) => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"containerGameDash\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: el.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: el.img,\n            alt: \"not-found\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"buttonDash\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => deletedGame(el.id),\n              children: \"Deleted\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => editGame(el.id),\n              children: \"Edit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 25\n          }, this)]\n        }, i, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 21\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Dashboard, \"bCTktwr6xoF3AgNK8R9yWAVgorI=\", false, function () {\n  return [useDispatch, useHistory, useSelector, useSelector];\n});\n\n_c = Dashboard;\nexport default Dashboard;\n\nvar _c;\n\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["Fragment","useEffect","Link","useHistory","getUser","destroyGame","clearData","useDispatch","useSelector","Nav","Dashboard","dispatch","history","dataUser","state","userReducer","user","gamesUser","deletedGame","id","userId","localStorage","getItem","tokenUser","setTimeout","editGame","setItem","push","isUser","name","length","map","el","i","img"],"sources":["/home/ciro/Escritorio/Ciro/videogames-main/client-videogames/src/components/Dashboard.jsx"],"sourcesContent":["import { Fragment, useEffect } from 'react';\nimport {Link, useHistory} from 'react-router-dom';\nimport {getUser, destroyGame, clearData} from '../actions/users';\nimport {useDispatch, useSelector} from 'react-redux'\nimport Nav from './Nav';\n\n\n\nconst Dashboard = () => {\n    const dispatch = useDispatch();\n    const history = useHistory();\n\n    const dataUser = useSelector( (state) => state.userReducer.user );\n    const gamesUser = useSelector( (state) => state.userReducer.gamesUser );\n\n\n    function deletedGame(id) {\n        const userId = localStorage.getItem('id');\n        const tokenUser = localStorage.getItem('token')\n        dispatch( destroyGame(id, tokenUser) );\n        \n        setTimeout(()=>{\n            dispatch(clearData());\n        }, 500)\n        setTimeout(()=>{\n            dispatch(getUser(userId));\n        }, 1000)\n    }\n\n    \n    function editGame(id) {\n        localStorage.setItem('idGame', id);\n        history.push('/edit');\n    }\n    \n    useEffect(()=>{\n        const isUser = localStorage.getItem('payload');\n        const userId = localStorage.getItem('id');\n        if(isUser !== 'user') {\n            return history.push('/login')\n        }\n        dispatch(getUser(userId));\n        setTimeout(()=>{\n            \n        }, 2000)\n       \n    }, [dispatch, history])\n\n    return (\n        <Fragment>\n            <Nav current=\"Dashboard\"/>\n            <h1>Hello {dataUser.name || \"user\"}, games you have are: {gamesUser.length}</h1>\n            <Link to='/created'>\n                <h3>Created</h3>\n            </Link>\n            <div className='contentUserGame'>\n            {\n                gamesUser?.map((el,i)=>{\n                return(\n                    <div key={i} className=\"containerGameDash\">\n                        <p>{el.name}</p>\n                        <img src={el.img} alt=\"not-found\" />\n                        <div className='buttonDash'>\n                            <button  onClick={()=>deletedGame(el.id)}>Deleted</button>\n                            <button  onClick={()=>editGame(el.id)}>Edit</button>\n                        </div>\n                    </div>\n                )\n                })\n            }\n            </div>\n        </Fragment>\n    )\n\n}\n\nexport default Dashboard;"],"mappings":"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"},"metadata":{},"sourceType":"module"}